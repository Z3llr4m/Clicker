<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Cookie Clicker Clone Mobile+PC</title>
<style>
body {
  font-family: Arial;
  text-align: center;
  background: linear-gradient(to bottom, #87ceeb, #f5f5dc);
  margin: 0; padding: 20px;
  overflow: hidden;
}
h1 { margin-bottom: 10px; }

#cookie {
  font-size: 120px;
  cursor: pointer;
  display: inline-block;
  transition: transform 0.1s;
  user-select: none;
}
#cookie:active { transform: scale(1.2); }

.section {
  border: 1px solid #ccc;
  border-radius: 10px;
  padding: 10px;
  margin: 10px auto;
  max-width: 500px;
  background-color: #fff8dc;
}
.object, .upgrade {
  display: flex;
  justify-content: space-between;
  margin: 5px 0;
}
button {
  padding: 5px 10px;
  border-radius: 5px;
  border: none;
  cursor: pointer;
  background-color: #deb887;
  color: #fff;
}
button:disabled { background-color: #ccc; cursor: not-allowed; }

.flying-cookie {
  position: absolute;
  font-size: 24px;
  pointer-events: none;
  animation: fly 1s linear forwards;
}
@keyframes fly {
  0% { transform: translateY(0) scale(1); opacity: 1; }
  100% { transform: translateY(-50px) scale(0.5); opacity: 0; }
}

.plus-one {
  position: absolute;
  color: gold;
  font-weight: bold;
  pointer-events: none;
  animation: plus1 0.8s ease-out forwards;
}
@keyframes plus1 {
  0% { transform: translateY(0) scale(1); opacity: 1; }
  100% { transform: translateY(-30px) scale(1.5); opacity: 0; }
}

.gold-cookie {
  position: absolute;
  font-size: 60px;
  cursor: pointer;
  user-select: none;
  animation: appear 10s linear forwards;
}
@keyframes appear {
  0% { opacity: 0; }
  10% { opacity: 1; }
  90% { opacity: 1; }
  100% { opacity: 0; }
}
</style>
</head>
<body>

<h1>Cookie Clicker Clone</h1>
<div id="cookie">üç™</div>

<div id="stats">
  <p>–ü–µ—á–µ–Ω—å–∫–∏: <span id="cookies">0</span></p>
  <p>–ü–µ—á–µ–Ω—å–∫–∏ –≤ —Å–µ–∫—É–Ω–¥—É: <span id="cps">0</span></p>
  <p>–û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–ª–∏–∫–æ–≤: <span id="clicks">0</span></p>
  <p>–û—á–∫–∏ –ø—Ä–µ—Å—Ç–∏–∂–∞: <span id="prestige">0</span></p>
</div>

<div class="section" id="objects-section">
  <h2>–û–±—ä–µ–∫—Ç—ã</h2>
  <div id="objects"></div>
</div>

<div class="section" id="upgrades-section">
  <h2>–ê–ø–≥—Ä–µ–π–¥—ã</h2>
  <div id="upgrades"></div>
</div>

<button id="prestigeBtn">–ü—Ä–µ—Å—Ç–∏–∂</button>

<script>
/* ===== –î–ê–ù–ù–´–ï ===== */
let cookies = 0;
let totalClicks = 0;
let clickPower = 1;
let cps = 0;
let prestigePoints = 0;
let prestigeMultiplier = 1;

const objectsData = [
  { name: 'Cursor', emoji: 'üñ±Ô∏è', baseCost: 15, cps: 0.1, amount: 0 },
  { name: 'Grandma', emoji: 'üëµ', baseCost: 100, cps: 1, amount: 0 },
  { name: 'Farm', emoji: 'üåæ', baseCost: 500, cps: 8, amount: 0 },
  { name: 'Factory', emoji: 'üè≠', baseCost: 3000, cps: 47, amount: 0 },
  { name: 'Mine', emoji: '‚õèÔ∏è', baseCost: 10000, cps: 260, amount: 0 },
  { name: 'Shipment', emoji: 'üö¢', baseCost: 40000, cps: 1400, amount: 0 },
  { name: 'Alchemy Lab', emoji: '‚öóÔ∏è', baseCost: 200000, cps: 7800, amount: 0 },
  { name: 'Portal', emoji: 'üåÄ', baseCost: 1666666, cps: 44000, amount: 0 },
  { name: 'Time Machine', emoji: 'üï∞Ô∏è', baseCost: 12345678, cps: 260000, amount: 0 }
];

const upgradesData = [
  { name: 'Stronger Click', cost: 100, type: 'click', multiplier: 2, purchased: false },
  { name: 'Grandma Efficiency', cost: 500, type: 'object', target: 'Grandma', multiplier: 2, purchased: false },
  { name: 'Farm Efficiency', cost: 1000, type: 'object', target: 'Farm', multiplier: 2, purchased: false }
];

/* ===== –≠–õ–ï–ú–ï–ù–¢–´ ===== */
const cookieBtn = document.getElementById('cookie');
const cookiesDisplay = document.getElementById('cookies');
const clicksDisplay = document.getElementById('clicks');
const cpsDisplay = document.getElementById('cps');
const prestigeDisplay = document.getElementById('prestige');
const objectsContainer = document.getElementById('objects');
const upgradesContainer = document.getElementById('upgrades');
const prestigeBtn = document.getElementById('prestigeBtn');

/* ===== –§–£–ù–ö–¶–ò–ò ===== */
function updateStats() {
  cookiesDisplay.textContent = Math.floor(cookies);
  clicksDisplay.textContent = totalClicks;
  cpsDisplay.textContent = (cps * prestigeMultiplier).toFixed(1);
  prestigeDisplay.textContent = prestigePoints;
}

function calculateCPS() {
  cps = objectsData.reduce((sum, obj) => sum + obj.cps * obj.amount, 0);
}

/* ===== –û–ë–™–ï–ö–¢–´ ===== */
function initObjects() {
  objectsContainer.innerHTML = '';
  objectsData.forEach((obj, index) => {
    const cost = Math.floor(obj.baseCost * Math.pow(1.15, obj.amount));
    let button = document.createElement('button');
    button.textContent = `–ö—É–ø–∏—Ç—å (${cost})`;
    button.disabled = cookies < cost;
    button.addEventListener('pointerdown', () => buyObject(index));

    let div = document.createElement('div');
    div.className = 'object';
    div.innerHTML = `<span>${obj.emoji} ${obj.name} (x${obj.amount}) - CPS: ${obj.cps}</span>`;
    div.appendChild(button);
    objectsContainer.appendChild(div);
  });
}

function buyObject(index) {
  const obj = objectsData[index];
  const cost = Math.floor(obj.baseCost * Math.pow(1.15, obj.amount));
  if (cookies >= cost) {
    cookies -= cost;
    obj.amount++;
    calculateCPS();
    updateStats();
    initObjects();
    initUpgrades();
    flyingCookieEffect(cookieBtn);
    saveGame();
  }
}

/* ===== –ê–ü–ì–†–ï–ô–î–´ ===== */
function initUpgrades() {
  upgradesContainer.innerHTML = '';
  upgradesData.forEach((upg, index) => {
    let button = document.createElement('button');
    button.textContent = `–ö—É–ø–∏—Ç—å (${upg.cost})`;
    button.disabled = upg.purchased || cookies < upg.cost;
    button.addEventListener('pointerdown', () => buyUpgrade(index));

    let div = document.createElement('div');
    div.className = 'upgrade';
    div.innerHTML = `<span>${upg.name}</span>`;
    div.appendChild(button);
    upgradesContainer.appendChild(div);
  });
}

function buyUpgrade(index) {
  const upg = upgradesData[index];
  if (cookies >= upg.cost && !upg.purchased) {
    cookies -= upg.cost;
    upg.purchased = true;
    if (upg.type === 'click') clickPower *= upg.multiplier;
    else if (upg.type === 'object') {
      const obj = objectsData.find(o => o.name === upg.target);
      obj.cps *= upg.multiplier;
      calculateCPS();
    }
    updateStats();
    initObjects();
    initUpgrades();
    saveGame();
  }
}

/* ===== –ö–õ–ò–ö –ü–û –ü–ï–ß–ï–ù–¨–ö–ï ===== */
function cookieClick(e) {
  cookies += clickPower * prestigeMultiplier;
  totalClicks++;
  updateStats();
  initUpgrades();
  plusOneEffect(e);
}
cookieBtn.addEventListener('pointerdown', cookieClick);

/* ===== –ê–í–¢–û–ü–†–û–ò–ó–í–û–î–°–¢–í–û ===== */
setInterval(() => {
  const gain = cps * prestigeMultiplier / 10;
  cookies += gain;
  updateStats();
  initObjects();
  initUpgrades();
  if (gain > 0) flyingCookieEffect(cookieBtn);
}, 100);

/* ===== –≠–§–§–ï–ö–¢–´ ===== */
function plusOneEffect(e) {
  const span = document.createElement('span');
  span.className = 'plus-one';
  span.textContent = `+${clickPower}`;
  document.body.appendChild(span);
  const rect = cookieBtn.getBoundingClientRect();
  span.style.left = rect.left + rect.width/2 + 'px';
  span.style.top = rect.top + 'px';
  setTimeout(() => span.remove(), 800);
}

function flyingCookieEffect(target) {
  const span = document.createElement('span');
  span.className = 'flying-cookie';
  span.textContent = 'üç™';
  document.body.appendChild(span);
  const rect = target.getBoundingClientRect();
  span.style.left = rect.left + Math.random()*50 + 'px';
  span.style.top = rect.top + 'px';
  setTimeout(() => span.remove(), 1000);
}

/* ===== –ó–û–õ–û–¢–ê–Ø –ü–ï–ß–ï–ù–¨–ö–ê ===== */
function spawnGoldCookie() {
  const gold = document.createElement('div');
  gold.className = 'gold-cookie';
  gold.textContent = 'üç™';
  document.body.appendChild(gold);
  gold.style.left = Math.random() * (window.innerWidth - 60) + 'px';
  gold.style.top = Math.random() * (window.innerHeight - 60) + 'px';
  function collect() {
    cookies += 500 * prestigeMultiplier;
    updateStats();
    gold.remove();
  }
  gold.addEventListener('pointerdown', collect);
  setTimeout(() => { if (gold.parentNode) gold.remove(); }, 10000);
}
setInterval(() => { if (Math.random() < 0.01) spawnGoldCookie(); }, 1000);

/* ===== –ü–†–ï–°–¢–ò–ñ ===== */
prestigeBtn.addEventListener('pointerdown', () => {
  if (cookies >= 10000) {
    const gained = Math.floor(cookies / 10000);
    prestigePoints += gained;
    prestigeMultiplier = 1 + prestigePoints * 0.1;
    cookies = 0;
    totalClicks = 0;
    objectsData.forEach(obj => obj.amount = 0);
    upgradesData.forEach(upg => upg.purchased = false);
    calculateCPS();
    initObjects();
    initUpgrades();
    updateStats();
    saveGame();
    alert(`–í—ã –ø–æ–ª—É—á–∏–ª–∏ ${gained} –æ—á–∫–æ–≤ –ø—Ä–µ—Å—Ç–∏–∂–∞! –ú–Ω–æ–∂–∏—Ç–µ–ª—å: x${prestigeMultiplier.toFixed(1)}`);
  } else alert('–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø–µ—á–µ–Ω–µ–∫ –¥–ª—è –ø—Ä–µ—Å—Ç–∏–∂–∞ (10000+).');
});

/* ===== –°–û–•–†–ê–ù–ï–ù–ò–ï ===== */
function saveGame() {
  const save = {
    cookies, totalClicks, clickPower, prestigePoints, prestigeMultiplier,
    objects: objectsData.map(obj => obj.amount),
    upgrades: upgradesData.map(upg => upg.purchased)
  };
  localStorage.setItem('cookieClickerSave', JSON.stringify(save));
}

function loadGame() {
  const save = JSON.parse(localStorage.getItem('cookieClickerSave'));
  if (save) {
    cookies = save.cookies;
    totalClicks = save.totalClicks;
    clickPower = save.clickPower;
    prestigePoints = save.prestigePoints;
    prestigeMultiplier = save.prestigeMultiplier;
    objectsData.forEach((obj, i) => obj.amount = save.objects[i]);
    upgradesData.forEach((upg, i) => upg.purchased = save.upgrades[i]);
    calculateCPS();
  }
  initObjects();
  initUpgrades();
  updateStats();
}

loadGame();
setInterval(saveGame, 10000);
</script>

</body>
</html>
