<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Cookie Clicker Clone</title>
<style>
/* ===== –û–±—â–∏–π —Å—Ç–∏–ª—å ===== */
body {
  margin: 0;
  font-family: 'Verdana', sans-serif;
  background: linear-gradient(to bottom, #f0e6d2, #d6c5a0);
  display: flex;
  flex-direction: column;
  align-items: center;
  min-height: 100vh;
}

/* ===== –í–µ—Ä—Ö–Ω—è—è –ø–∞–Ω–µ–ª—å ===== */
header {
  position: fixed;
  top: 0; left: 0; right: 0;
  background-color: #fff8dc;
  border-bottom: 3px solid #deb887;
  padding: 10px;
  z-index: 10;
  display: flex;
  flex-wrap: wrap;
  justify-content: space-around;
  gap: 10px;
  box-shadow: 0 2px 5px rgba(0,0,0,0.2);
}
header p { margin: 5px; font-weight: bold; font-size: 1rem; }
#prestigeBtn {
  background-color: #d4a017;
  color: white;
  font-weight: bold;
  transition: transform 0.1s, background-color 0.2s;
}
#prestigeBtn:hover { transform: scale(1.05); background-color: #e0b027; }

/* ===== –û—Å–Ω–æ–≤–Ω–∞—è –∑–æ–Ω–∞ ===== */
#main {
  margin-top: 150px;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 20px;
  width: 100%;
  max-width: 600px;
  padding: 0 10px;
  box-sizing: border-box;
}

/* ===== –ü–µ—á–µ–Ω—å–∫–∞ ===== */
#cookie {
  font-size: 150px;
  cursor: pointer;
  user-select: none;
  transition: transform 0.1s, filter 0.1s;
}
#cookie:hover { filter: brightness(1.1); }
#cookie:active { transform: scale(1.2); filter: brightness(0.9); }

/* ===== –†–∞–∑–¥–µ–ª—ã –æ–±—ä–µ–∫—Ç–æ–≤ –∏ –∞–ø–≥—Ä–µ–π–¥–æ–≤ ===== */
.section {
  width: 100%;
  background-color: #fffbe0;
  border: 2px solid #deb887;
  border-radius: 12px;
  padding: 10px;
  box-sizing: border-box;
  max-height: 300px;
  overflow-y: auto;
  box-shadow: inset 0 0 10px rgba(0,0,0,0.05);
}
.section h2 { margin-top: 0; text-align: center; font-size: 1.2rem; }

/* ===== –û–±—ä–µ–∫—Ç—ã –∏ –∞–ø–≥—Ä–µ–π–¥—ã ===== */
.object, .upgrade {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin: 6px 0;
  padding: 4px 6px;
  border-radius: 8px;
  background-color: #f7ecd6;
  transition: background-color 0.2s;
}
.object:hover, .upgrade:hover { background-color: #f1dfb5; }

/* ===== –ö–Ω–æ–ø–∫–∏ –ø–æ–∫—É–ø–∫–∏ ===== */
button {
  padding: 5px 12px;
  border-radius: 6px;
  border: none;
  background-color: #deb887;
  color: #fff;
  font-weight: bold;
  cursor: pointer;
  transition: transform 0.1s, background-color 0.2s;
}
button:hover { background-color: #e0b27a; transform: scale(1.05); }
button:disabled { background-color: #ccc; cursor: not-allowed; }

/* ===== –ê–Ω–∏–º–∞—Ü–∏–∏ +1 –∏ –ª–µ—Ç—è—â–∏–µ –ø–µ—á–µ–Ω—å–∫–∏ ===== */
.plus-one {
  position: absolute;
  color: gold;
  font-weight: bold;
  pointer-events: none;
  animation: plus1 0.8s ease-out forwards;
  z-index: 100;
}
@keyframes plus1 {
  0% { transform: translateY(0) scale(1); opacity: 1; }
  100% { transform: translateY(-30px) scale(1.5); opacity: 0; }
}

.flying-cookie {
  position: absolute;
  font-size: 24px;
  pointer-events: none;
  animation: fly 1s linear forwards;
  z-index: 100;
}
@keyframes fly {
  0% { transform: translateY(0) scale(1); opacity: 1; }
  100% { transform: translateY(-50px) scale(0.5); opacity: 0; }
}

/* ===== –ê–¥–∞–ø—Ç–∏–≤ ===== */
@media (max-width: 768px) {
  #cookie { font-size: 120px; }
  header p { font-size: 0.9rem; }
}
</style>
</head>
<body>

<header>
  <p>–ü–µ—á–µ–Ω—å–∫–∏: <span id="cookies">0</span></p>
  <p>CPS: <span id="cps">0</span></p>
  <p>–ö–ª–∏–∫–∏: <span id="clicks">0</span></p>
  <p>–ü—Ä–µ—Å—Ç–∏–∂: <span id="prestige">0</span></p>
  <button id="prestigeBtn">–ü—Ä–µ—Å—Ç–∏–∂</button>
</header>

<div id="main">
  <div id="cookie">üç™</div>
  <div class="section">
    <h2>–û–±—ä–µ–∫—Ç—ã</h2>
    <div id="objects"></div>
  </div>
  <div class="section">
    <h2>–ê–ø–≥—Ä–µ–π–¥—ã</h2>
    <div id="upgrades"></div>
  </div>
</div>

<script>
let cookies = 0, totalClicks = 0, clickPower = 1, cps = 0;
let prestigePoints = 0, prestigeMultiplier = 1;

// ===== –ó–¥–∞–Ω–∏—è =====
const objectsData = [
  { name: 'Cursor', cost: 15, cps: 0.1, amount: 0 },
  { name: 'Grandma', cost: 100, cps: 1, amount: 0 },
  { name: 'Farm', cost: 500, cps: 8, amount: 0 },
  { name: 'Factory', cost: 3000, cps: 47, amount: 0 },
  { name: 'Mine', cost: 10000, cps: 260, amount: 0 },
  { name: 'Shipment', cost: 40000, cps: 1400, amount: 0 },
  { name: 'Alchemy Lab', cost: 200000, cps: 7800, amount: 0 },
  { name: 'Portal', cost: 3300000, cps: 44000, amount: 0 },
  { name: 'Time Machine', cost: 51000000, cps: 260000, amount: 0 },
  { name: 'Antimatter Condenser', cost: 750000000, cps: 1600000, amount: 0 }
];

// ===== –ê–ø–≥—Ä–µ–π–¥—ã =====
const upgradesData = [
  { name: '–°–∏–ª—å–Ω–µ–µ –∫–ª–∏–∫', cost: 100, type: 'click', multiplier: 2, purchased: false },
  { name: '–°—É–ø–µ—Ä –∫–ª–∏–∫', cost: 1000, type: 'click', multiplier: 5, purchased: false },
  { name: '–ë–∞–±—É—à–∫–∞ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–µ–µ', cost: 500, type: 'object', target: 'Grandma', multiplier: 2, purchased: false },
  { name: '–§–µ—Ä–º–∞ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–µ–µ', cost: 5000, type: 'object', target: 'Farm', multiplier: 2, purchased: false },
  { name: '–§–∞–±—Ä–∏–∫–∞ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–µ–µ', cost: 20000, type: 'object', target: 'Factory', multiplier: 2, purchased: false },
  { name: '–í—Å–µ –∑–¥–∞–Ω–∏—è +50%', cost: 100000, type: 'global', multiplier: 1.5, purchased: false }
];

const cookieBtn = document.getElementById('cookie');
const cookiesDisplay = document.getElementById('cookies');
const clicksDisplay = document.getElementById('clicks');
const cpsDisplay = document.getElementById('cps');
const prestigeDisplay = document.getElementById('prestige');
const objectsContainer = document.getElementById('objects');
const upgradesContainer = document.getElementById('upgrades');
const prestigeBtn = document.getElementById('prestigeBtn');

/* ===== –ú–µ—Ö–∞–Ω–∏–∫–∞ ===== */
function updateStats(){
  cookiesDisplay.textContent = Math.floor(cookies);
  clicksDisplay.textContent = totalClicks;
  cpsDisplay.textContent = (cps*prestigeMultiplier).toFixed(1);
  prestigeDisplay.textContent = prestigePoints;
}

function calculateCPS(){
  cps = objectsData.reduce((sum,obj)=>sum + obj.cps*obj.amount,0);
}

function initObjects(){
  objectsContainer.innerHTML = '';
  objectsData.forEach((obj,index)=>{
    const button = document.createElement('button');
    button.textContent = `–ö—É–ø–∏—Ç—å (${obj.cost})`;
    button.disabled = cookies < obj.cost;
    button.addEventListener('pointerdown',()=>buyObject(index));
    const div = document.createElement('div');
    div.className='object';
    div.innerHTML=`<span>${obj.name} (x${obj.amount}) - CPS: ${obj.cps}</span>`;
    div.appendChild(button);
    objectsContainer.appendChild(div);
  });
}

function buyObject(index){
  const obj = objectsData[index];
  if(cookies >= obj.cost){
    cookies -= obj.cost;
    obj.amount++;
    obj.cost = Math.floor(obj.cost * 1.15);
    calculateCPS();
    updateStats();
    initObjects();
    flyingCookieEffect(cookieBtn);
    saveGame();
  }
}

function initUpgrades(){
  upgradesContainer.innerHTML = '';
  upgradesData.forEach((upg,index)=>{
    const button = document.createElement('button');
    button.textContent = `–ö—É–ø–∏—Ç—å (${upg.cost})`;
    button.disabled = upg.purchased || cookies < upg.cost;
    button.addEventListener('pointerdown',()=>buyUpgrade(index));
    const div = document.createElement('div');
    div.className='upgrade';
    div.innerHTML=`<span>${upg.name}</span>`;
    div.appendChild(button);
    upgradesContainer.appendChild(div);
  });
}

function buyUpgrade(index){
  const upg = upgradesData[index];
  if(cookies >= upg.cost && !upg.purchased){
    cookies -= upg.cost;
    upg.purchased = true;
    if(upg.type === 'click') clickPower *= upg.multiplier;
    else if(upg.type === 'object'){
      const obj = objectsData.find(o=>o.name===upg.target);
      obj.cps *= upg.multiplier;
      calculateCPS();
    }
    updateStats();
    initObjects();
    initUpgrades();
    flyingCookieEffect(cookieBtn);
    saveGame();
  }
}

/* ===== –ê–Ω–∏–º–∞—Ü–∏–∏ ===== */
function plusOneEffect(){
  const span = document.createElement('span');
  span.className='plus-one';
  span.textContent = `+${clickPower}`;
  document.body.appendChild(span);
  const rect = cookieBtn.getBoundingClientRect();
  span.style.left = rect.left + rect.width/2 + 'px';
  span.style.top = rect.top + 'px';
  setTimeout(()=>span.remove(),800);
}

function flyingCookieEffect(target){
  const span = document.createElement('span');
  span.className='flying-cookie';
  span.textContent='üç™';
  document.body.appendChild(span);
  const rect = target.getBoundingClientRect();
  span.style.left = rect.left + Math.random()*50 + 'px';
  span.style.top = rect.top + 'px';
  setTimeout(()=>span.remove(),1000);
}

/* ===== –ö–ª–∏–∫ –ø–æ –ø–µ—á–µ–Ω—å–∫–µ ===== */
cookieBtn.addEventListener('pointerdown',()=>{
  cookies += clickPower*prestigeMultiplier;
  totalClicks++;
  updateStats();
  plusOneEffect();
  saveGame();
});

/* ===== –ê–≤—Ç–æ—Å—á—ë—Ç CPS ===== */
setInterval(()=>{
  cookies += cps*prestigeMultiplier/10;
  updateStats();
},100);

/* ===== –ü—Ä–µ—Å—Ç–∏–∂ ===== */
prestigeBtn.addEventListener('pointerdown',()=>{
  if(cookies >= 10000){
    prestigePoints++;
    prestigeMultiplier = 1 + prestigePoints*0.1;
    cookies=0;
    objectsData.forEach(obj=>obj.amount=0);
    upgradesData.forEach(upg=>upg.purchased=false);
    calculateCPS();
    updateStats();
    initObjects();
    initUpgrades();
    saveGame();
  }
});

/* ===== –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏ –∑–∞–≥—Ä—É–∑–∫–∞ ===== */
function saveGame(){
  const save={cookies,totalClicks,clickPower,cps,prestigePoints,objectsData,upgradesData};
  localStorage.setItem('cookieClickerSave',JSON.stringify(save));
}

function loadGame(){
  const save=JSON.parse(localStorage.getItem('cookieClickerSave'));
  if(save){
    cookies=save.cookies;
    totalClicks=save.totalClicks;
    clickPower=save.clickPower;
    cps=save.cps;
    prestigePoints=save.prestigePoints;
    prestigeMultiplier = 1 + prestigePoints*0.1;
    save.objectsData.forEach((obj,i)=>objectsData[i].amount=obj.amount);
    save.upgradesData.forEach((upg,i)=>upgradesData[i].purchased=upg.purchased);
    calculateCPS();
  }
}

loadGame();
initObjects();
initUpgrades();
updateStats();
</script>

</body>
</html>
