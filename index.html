<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Cookie Clicker Mobile</title>
<style>
    /* ===================== */
    /* üåë –¢–ï–ú–ù–´–ô –î–ò–ó–ê–ô–ù */
    /* ===================== */
    body {
        margin: 0;
        padding: 0;
        background: linear-gradient(to bottom, #2b2b2b, #1a1a1a);
        color: #fff;
        font-family: Arial, sans-serif;
        text-align: center;
        overflow-x: hidden;
    }
/* ===================== */
/* ‚ú® –õ–ï–¢–Ø–©–ò–ï –ü–ï–ß–ï–ù–¨–ö–ò –ù–ê –§–û–ù–ï */
/* ===================== */
.flying-cookie {
    position: absolute;
    font-size: 18px;
    color: #ffd700;
    animation: flyUp 4s linear forwards;
    pointer-events: none;
    z-index: 0;
    opacity: 0.8;
}

@keyframes flyUp {
    0% {transform: translateY(0) scale(1);}
    50% {transform: translateY(-150px) scale(1.2);}
    100% {transform: translateY(-300px) scale(0.5); opacity: 0;}
}

/* ===================== */
/* ‚ú® –ê–ù–ò–ú–ê–¶–ò–ò –î–õ–Ø –ê–ü–ì–†–ï–ô–î–û–í */
/* ===================== */
.upgrade-anim {
    animation: upgradeFlash 0.5s;
}

@keyframes upgradeFlash {
    0% {background-color: #2ecc71;}
    50% {background-color: #f1c40f;}
    100% {background-color: #2ecc71;}
}

    /* ===================== */
    /* üç™ –ü–ï–ß–ï–ù–¨–ö–ê */
    /* ===================== */
    #cookie {
        width: 150px;
        height: 150px;
        margin: 20px auto;
        cursor: pointer;
        transition: transform 0.1s;
    }
    #cookie:active {
        transform: scale(0.95);
    }

    /* ===================== */
    /* üìä –°–¢–ê–¢–ò–°–¢–ò–ö–ê */
    /* ===================== */
    .stats-window {
        position: fixed;
        bottom: 0;
        width: 100%;
        max-height: 150px;
        overflow-y: auto;
        background-color: rgba(20,20,20,0.9);
        color: #fff;
        font-size: 14px;
        padding: 10px;
        box-sizing: border-box;
        z-index: 100;
    }

    /* ===================== */
    /* üè† –ó–î–ê–ù–ò–Ø –ò –ê–ü–ì–†–ï–ô–î–´ */
    /* ===================== */
    #buildings, #upgrades {
        max-height: 200px;
        overflow-y: auto;
        margin: 10px 0;
        padding: 10px;
        display: flex;
        flex-direction: column;
        gap: 5px;
    }

    button.building, button.upgrade, #prestigeButton {
        background-color: #444;
        border: none;
        color: #fff;
        padding: 8px;
        font-size: 14px;
        border-radius: 5px;
        cursor: pointer;
        transition: background 0.2s;
    }

    button.building.available, button.upgrade.available {
        background-color: #2ecc71;
    }

    button.building:hover, button.upgrade:hover, #prestigeButton:hover {
        background-color: #16a085;
    }

    #prestigeButton {
        margin: 10px;
        padding: 10px 20px;
        font-size: 16px;
        background-color: #e67e22;
    }

    #prestigeButton:hover {
        background-color: #d35400;
    }

    /* ===================== */
    /* ‚ú® –í–´–õ–ï–¢–ê–Æ–©–ò–ï –ü–ï–ß–ï–ù–¨–ö–ò */
    /* ===================== */
    .floating-cookie {
        position: fixed;
        font-size: 20px;
        font-weight: bold;
        color: #ffd700;
        animation: floatUp 1s forwards;
        pointer-events: none;
        z-index: 200;
    }

    @keyframes floatUp {
        0% {opacity: 1; transform: translateY(0);}
        100% {opacity: 0; transform: translateY(-50px);}
    }
</style>
</head>
<body>

<!-- ===================== -->
<!-- üç™ –ü–ï–ß–ï–ù–¨–ö–ê -->
<!-- ===================== -->
<img id="cookie" src="https://i.imgur.com/hb7mM2A.png" alt="Cookie">

<!-- ===================== -->
<!-- üè† –ó–î–ê–ù–ò–Ø -->
<!-- ===================== -->
<div id="buildings"></div>

<!-- ===================== -->
<!-- üîº –ê–ü–ì–†–ï–ô–î–´ -->
<!-- ===================== -->
<div id="upgrades"></div>

<!-- ===================== -->
<!-- üåü –ü–†–ï–°–¢–ò–ñ -->
<!-- ===================== -->
<button id="prestigeButton">–°–¥–µ–ª–∞—Ç—å –ø—Ä–µ—Å—Ç–∏–∂</button>

<!-- ===================== -->
<!-- üìä –°–¢–ê–¢–ò–°–¢–ò–ö–ê -->
<!-- ===================== -->
<div id="stats" class="stats-window">
    <p id="totalTime">–í—Ä–µ–º—è –≤ –∏–≥—Ä–µ: 00:00:00</p>
    <p id="totalCookies">–í—Å–µ–≥–æ –ø–µ—á–µ–Ω–µ–∫: 0</p>
    <p id="golden">–ó–æ–ª–æ—Ç—ã–µ –ø–µ—á–µ–Ω—å–∫–∏: 0</p>
    <p id="prestiges">–ü—Ä–µ—Å—Ç–∏–∂–µ–π —Å–¥–µ–ª–∞–Ω–æ: 0</p>
    <p id="clicks">–í—Å–µ–≥–æ –∫–ª–∏–∫–æ–≤: 0</p>
    <p id="cps">CPS: 0</p>
</div>

<script src="game.js"></script>
</body>
</html>

// ==================================================
// üç™ COOKIE CLICKER ‚Äî JAVASCRIPT –õ–û–ì–ò–ö–ê
// ==================================================

// -----------------------------
// üéÆ –û–°–ù–û–í–ù–´–ï –ü–ï–†–ï–ú–ï–ù–ù–´–ï
// -----------------------------
let cookies = 0;
let cookiesPerClick = 1;
let totalCPS = 0;
let goldenCookies = 0;

// –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
let totalClicks = 0;
let totalCookiesEarned = 0;
let totalPrestiges = 0;
let totalTime = 0;

// -----------------------------
// üè† –ó–î–ê–ù–ò–Ø
// -----------------------------
let buildings = [
    { name: "üç™ –ö—É—Ä—Å–æ—Ä", baseCost: 15, cps: 0.1, count: 0, emoji: "üñ±Ô∏è" },
    { name: "üëµ –ë–∞–±—É—à–∫–∞", baseCost: 100, cps: 1, count: 0, emoji: "üß∂" },
    { name: "üåæ –§–µ—Ä–º–∞", baseCost: 1100, cps: 8, count: 0, emoji: "üå±" },
    { name: "‚õèÔ∏è –®–∞—Ö—Ç–∞", baseCost: 12000, cps: 47, count: 0, emoji: "‚öíÔ∏è" },
    { name: "üè≠ –§–∞–±—Ä–∏–∫–∞", baseCost: 130000, cps: 260, count: 0, emoji: "üèóÔ∏è" },
    { name: "üîÆ –ê–ª—Ö–∏–º–∏—è", baseCost: 1400000, cps: 1400, count: 0, emoji: "‚öóÔ∏è" },
    { name: "üõ∞Ô∏è –ü–æ—Ä—Ç–∞–ª", baseCost: 20000000, cps: 7800, count: 0, emoji: "üåå" },
    { name: "üöÄ –ö–æ—Ä–∞–±–ª—å", baseCost: 330000000, cps: 44000, count: 0, emoji: "üõ∏" },
    { name: "üåå –í—Å–µ–ª–µ–Ω–Ω–∞—è", baseCost: 5100000000, cps: 260000, count: 0, emoji: "ü™ê" },
    { name: "üëë –ü—Ä–µ—Å—Ç–æ–ª", baseCost: 75000000000, cps: 1600000, count: 0, emoji: "üíé" }
];

// -----------------------------
// üîº –ê–ü–ì–†–ï–ô–î–´
// -----------------------------
let upgrades = [];

// -----------------------------
// üîß –í–°–ü–û–ú–û–ì–ê–¢–ï–õ–¨–ù–´–ï –§–£–ù–ö–¶–ò–ò
// -----------------------------
function formatNumber(num) {
    if (num >= 1e12) return (num / 1e12).toFixed(2) + " T";
    if (num >= 1e9) return (num / 1e9).toFixed(2) + " B";
    if (num >= 1e6) return (num / 1e6).toFixed(2) + " M";
    if (num >= 1e3) return (num / 1e3).toFixed(2) + " K";
    return Math.floor(num);
}

function formatTime(sec) {
    let h = Math.floor(sec / 3600);
    let m = Math.floor((sec % 3600) / 60);
    let s = sec % 60;
    return h.toString().padStart(2,"0")+":"+m.toString().padStart(2,"0")+":"+s.toString().padStart(2,"0");
}

// -----------------------------
// üìä –û–ë–ù–û–í–õ–ï–ù–ò–ï –°–¢–ê–¢–û–í
// -----------------------------
function updateCPS() {
    totalCPS = 0;
    buildings.forEach(b => {
        totalCPS += b.cps * b.count;
    });
    totalCPS *= 1 + goldenCookies * 0.001; // –±–æ–Ω—É—Å –ø—Ä–µ—Å—Ç–∏–∂–∞
    document.getElementById("cps").innerText = "CPS: " + formatNumber(totalCPS);
}

function updateCookies() {
    document.getElementById("cookies").innerText = formatNumber(cookies) + " üç™";
    document.getElementById("golden").innerText = "–ó–æ–ª–æ—Ç—ã–µ –ø–µ—á–µ–Ω—å–∫–∏: " + goldenCookies;
    updateStats();
}

function updateStats() {
    document.getElementById("totalTime").innerText = "–í—Ä–µ–º—è –≤ –∏–≥—Ä–µ: " + formatTime(totalTime);
    document.getElementById("totalCookies").innerText = "–í—Å–µ–≥–æ –ø–µ—á–µ–Ω–µ–∫: " + formatNumber(totalCookiesEarned);
    document.getElementById("golden").innerText = "–ó–æ–ª–æ—Ç—ã–µ –ø–µ—á–µ–Ω—å–∫–∏: " + goldenCookies;
    document.getElementById("prestiges").innerText = "–ü—Ä–µ—Å—Ç–∏–∂–µ–π —Å–¥–µ–ª–∞–Ω–æ: " + totalPrestiges;
    document.getElementById("clicks").innerText = "–í—Å–µ–≥–æ –∫–ª–∏–∫–æ–≤: " + totalClicks;
}

// -----------------------------
// üëÜ –ö–õ–ò–ö –ü–û –ü–ï–ß–ï–ù–¨–ö–ï
// -----------------------------
function clickCookie() {
    cookies += cookiesPerClick;
    totalClicks++;
    totalCookiesEarned += cookiesPerClick;
    updateCookies();

    // –ê–Ω–∏–º–∞—Ü–∏—è –∫–ª–∏–∫–∞
    let floating = document.createElement("div");
    floating.className = "floating-cookie";
    floating.innerText = "+" + cookiesPerClick;
    document.body.appendChild(floating);

    floating.style.left = (window.innerWidth / 2 - 20 + (Math.random() * 40 - 20)) + "px";
    floating.style.top = (window.innerHeight / 2 - 50) + "px";

    setTimeout(() => floating.remove(), 1000);
}

// -----------------------------
// üè† –ü–û–ö–£–ü–ö–ê –ó–î–ê–ù–ò–ô
// -----------------------------
function buyBuilding(index) {
    let b = buildings[index];
    let cost = Math.floor(b.baseCost * Math.pow(1.15, b.count));
    if (cookies >= cost) {
        cookies -= cost;
        b.count++;
        totalCookiesEarned += cost;
        updateCookies();
        updateCPS();
        renderBuildings();
        renderUpgrades();

        // ‚ú® –ê–Ω–∏–º–∞—Ü–∏—è –ø–æ–∫—É–ø–∫–∏ –∑–¥–∞–Ω–∏—è
        let bBtn = document.getElementsByClassName("building")[index];
        bBtn.classList.add("upgrade-anim");
        setTimeout(() => bBtn.classList.remove("upgrade-anim"), 500);
    }
}


// -----------------------------
// üîº –ü–û–ö–£–ü–ö–ê –ê–ü–ì–†–ï–ô–î–û–í
// -----------------------------
function renderUpgrades() {
    let container = document.getElementById("upgrades");
    container.innerHTML = "";

    buildings.forEach((b, i) => {
        let level = upgrades.filter(u => u.buildingIndex === i).length + 1;
        let cost = Math.floor((b.baseCost * 10) * Math.pow(1.7, level - 1));

        let btn = document.createElement("button");
        btn.className = "upgrade";
        btn.innerText = `${b.emoji} ${b.name} Upgrade x${level + 1} ‚Äî ${formatNumber(cost)} üç™`;

        if (cookies >= cost) btn.classList.add("available");

        btn.onclick = () => {
            if (cookies >= cost) {
                cookies -= cost;
                b.cps *= (level + 1);
                upgrades.push({ buildingIndex: i, level: level + 1 });
                totalCookiesEarned += cost;
                updateCookies();
                updateCPS();
                renderBuildings();
                renderUpgrades();
            }
        };
        container.appendChild(btn);
    });
}

// -----------------------------
// üåü –ü–†–ï–°–¢–ò–ñ
// -----------------------------
function prestige() {
    if (cookies >= 1e12) {
        let earned = Math.floor(cookies / 1e12);
        goldenCookies += earned;
        totalPrestiges++;

        // —Å–±—Ä–æ—Å –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
        cookies = 0;
        cookiesPerClick = 1;
        buildings.forEach(b => b.count = 0);
        upgrades = [];

        updateCookies();
        updateCPS();
        renderBuildings();
        renderUpgrades();

        alert(`–í—ã —Å–¥–µ–ª–∞–ª–∏ –ø—Ä–µ—Å—Ç–∏–∂! –ü–æ–ª—É—á–µ–Ω–æ ${earned} –∑–æ–ª–æ—Ç—ã—Ö –ø–µ—á–µ–Ω–µ–∫!`);
    } else {
        alert("–ù—É–∂–Ω–æ –º–∏–Ω–∏–º—É–º 1 —Ç—Ä–ª–Ω –ø–µ—á–µ–Ω–µ–∫ –¥–ª—è –ø—Ä–µ—Å—Ç–∏–∂–∞!");
    }
}

// -----------------------------
// üñ•Ô∏è –†–ï–ù–î–ï–† –ó–î–ê–ù–ò–ô
// -----------------------------
function renderBuildings() {
    let container = document.getElementById("buildings");
    container.innerHTML = "";

    buildings.forEach((b, i) => {
        let cost = Math.floor(b.baseCost * Math.pow(1.15, b.count));
        let btn = document.createElement("button");
        btn.className = "building";
        btn.innerText = `${b.name} (${b.count}) ‚Äî ${formatNumber(cost)} üç™ | +${b.cps} CPS`;

        if (cookies >= cost) btn.classList.add("available");

        btn.onclick = () => buyBuilding(i);
        container.appendChild(btn);
    });
}

// -----------------------------
// ‚è≥ –î–û–•–û–î –ò –°–û–•–†–ê–ù–ï–ù–ò–ï
// -----------------------------
setInterval(() => {
    cookies += totalCPS;
    totalCookiesEarned += totalCPS;
    updateCookies();
}, 1000);

setInterval(() => { totalTime++; updateStats(); }, 1000);

function saveGame() {
    let save = { cookies, cookiesPerClick, buildings, upgrades, goldenCookies, totalClicks, totalCookiesEarned, totalPrestiges, totalTime };
    localStorage.setItem("cookieSave", JSON.stringify(save));
}

function loadGame() {
    let save = JSON.parse(localStorage.getItem("cookieSave"));
    if (save) {
        cookies = save.cookies;
        cookiesPerClick = save.cookiesPerClick;
        buildings = save.buildings;
        upgrades = save.upgrades;
        goldenCookies = save.goldenCookies || 0;
        totalClicks = save.totalClicks || 0;
        totalCookiesEarned = save.totalCookiesEarned || 0;
        totalPrestiges = save.totalPrestiges || 0;
        totalTime = save.totalTime || 0;
    }
    updateCookies();
    updateCPS();
    renderBuildings();
    renderUpgrades();
}

setInterval(saveGame, 30000);

// -----------------------------
// üöÄ –°–¢–ê–†–¢
// -----------------------------
window.onload = () => {
    loadGame();
    renderBuildings();
    renderUpgrades();
    updateCookies();
    updateCPS();

    document.getElementById("cookie").onclick = clickCookie;
    document.getElementById("prestigeButton").onclick = prestige;
};
btn.onclick = () => {
    if (cookies >= cost) {
        cookies -= cost;
        b.cps *= (level + 1);
        upgrades.push({ buildingIndex: i, level: level + 1 });
        totalCookiesEarned += cost;
        updateCookies();
        updateCPS();
        renderBuildings();
        renderUpgrades();

        // –ê–Ω–∏–º–∞—Ü–∏—è –∫–Ω–æ–ø–∫–∏ –∞–ø–≥—Ä–µ–π–¥–∞
        btn.classList.add("upgrade-anim");
        setTimeout(() => btn.classList.remove("upgrade-anim"), 500);
    }
};
