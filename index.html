<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Cookie Clicker Mobile</title>
<style>
body {
  margin:0;
  font-family: Arial, sans-serif;
  text-align:center;
  background: #f5e1a4;
  overflow-x: hidden;
}
#cookie {
  width: 150px;
  height: 150px;
  background: url('https://i.ibb.co/ZH1q7r8/cookie.png') no-repeat center/cover;
  margin: 20px auto;
  border-radius: 50%;
  touch-action: manipulation;
}
#buildings, #upgrades {
  display:flex;
  flex-wrap: wrap;
  justify-content:center;
  margin: 10px auto;
}
.building, .upgrade {
  border:1px solid #aaa;
  border-radius:5px;
  background:#fff8dc;
  margin:5px;
  padding:5px;
  min-width:90px;
  cursor:pointer;
}
#stats {
  position:fixed;
  bottom:0;
  left:0;
  width:100%;
  background:#fff8dc;
  border-top:1px solid #aaa;
  text-align:left;
  padding:5px;
  font-size:14px;
  box-sizing:border-box;
  max-height:150px;
  overflow-y:auto;
}
.fly-cookie {
  position:absolute;
  width:30px;
  height:30px;
  pointer-events:none;
  background: url('https://i.ibb.co/ZH1q7r8/cookie.png') no-repeat center/cover;
  animation: floatUp 1s forwards;
}
@keyframes floatUp {
  0% {transform: translateY(0) scale(1);}
  50% {transform: translateY(-50px) scale(1.3);}
  100% {transform: translateY(-100px) scale(0);}
}
button.prestige {
  margin:10px;
  padding:5px 10px;
  font-size:16px;
}
</style>
</head>
<body>

<h1>üç™ Cookie Clicker Mobile</h1>
<div id="cookie"></div>
<div id="buildings"></div>
<div id="upgrades"></div>
<button class="prestige">–ü—Ä–µ—Å—Ç–∏–∂</button>
<div id="stats"></div>

<script>
const cookie = document.getElementById('cookie');
const buildingsDiv = document.getElementById('buildings');
const upgradesDiv = document.getElementById('upgrades');
const statsDiv = document.getElementById('stats');
const prestigeBtn = document.querySelector('.prestige');

let cookies = 0;
let totalCookies = 0;
let goldenCookies = 0;
let prestigeMultiplier = 0;
let startTime = Date.now();

function showFlyCookie(x,y){
  const fc = document.createElement('div');
  fc.className = 'fly-cookie';
  fc.style.left = x+'px';
  fc.style.top = y+'px';
  document.body.appendChild(fc);
  setTimeout(()=>fc.remove(),1000);
}

// –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∑–¥–∞–Ω–∏–π
const buildings = {
  "–ö—É—Ä—Å–æ—Ä": {basePrice:15, owned:0, baseCPS:0.1, multiplier:1, upgrades:[], nextUpgrade:0},
  "–ë–∞–±—É—à–∫–∞": {basePrice:100, owned:0, baseCPS:1, multiplier:1, upgrades:[], nextUpgrade:0},
  "–§–µ—Ä–º–∞": {basePrice:1100, owned:0, baseCPS:8, multiplier:1, upgrades:[], nextUpgrade:0},
  "–§–∞–±—Ä–∏–∫–∞": {basePrice:12000, owned:0, baseCPS:47, multiplier:1, upgrades:[], nextUpgrade:0},
  "–®–∞—Ö—Ç–∞": {basePrice:130000, owned:0, baseCPS:260, multiplier:1, upgrades:[], nextUpgrade:0},
  "–ú–∞–≥–∏—á–µ—Å–∫–∞—è –±–∞—à–Ω—è": {basePrice:1400000, owned:0, baseCPS:1400, multiplier:1, upgrades:[], nextUpgrade:0},
  "–•—Ä–∞–º": {basePrice:20000000, owned:0, baseCPS:7800, multiplier:1, upgrades:[], nextUpgrade:0},
  "–õ–∞–±–æ—Ä–∞—Ç–æ—Ä–∏—è": {basePrice:330000000, owned:0, baseCPS:44000, multiplier:1, upgrades:[], nextUpgrade:0},
  "–ö–æ—Å–º–∏—á–µ—Å–∫–∞—è —Å—Ç–∞–Ω—Ü–∏—è": {basePrice:5100000000, owned:0, baseCPS:260000, multiplier:1, upgrades:[], nextUpgrade:0},
  "–î—Ä–∞–∫–æ–Ω—å–µ –ª–æ–≥–æ–≤–æ": {basePrice:75000000000, owned:0, baseCPS:1600000, multiplier:1, upgrades:[], nextUpgrade:0},
  "–ú–∞—à–∏–Ω–∞ –≤—Ä–µ–º–µ–Ω–∏": {basePrice:1000000000000, owned:0, baseCPS:10000000, multiplier:1, upgrades:[], nextUpgrade:0},
  "–ê–Ω—Ç–∏–º–∞—Ç–µ—Ä–∏—è": {basePrice:14000000000000, owned:0, baseCPS:65000000, multiplier:1, upgrades:[], nextUpgrade:0},
  "–ê–ª—Ö–∏–º–∏—è": {basePrice:170000000000000, owned:0, baseCPS:430000000, multiplier:1, upgrades:[], nextUpgrade:0},
  "–ö–æ—Å–º–∏—á–µ—Å–∫–æ–µ –ø–µ—á–µ–Ω—å–µ": {basePrice:2100000000000000, owned:0, baseCPS:2800000000, multiplier:1, upgrades:[], nextUpgrade:0},
  "–ë–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –¥—É—Ö": {basePrice:26000000000000000, owned:0, baseCPS:20000000000, multiplier:1, upgrades:[], nextUpgrade:0}
};

// –ê–ø–≥—Ä–µ–π–¥—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∑–¥–∞–Ω–∏—è
const upgradesData = {
  "–ö—É—Ä—Å–æ—Ä": ["–°–º–∞–∑–∞–Ω–Ω—ã–µ —à–∞—Ä–Ω–∏—Ä—ã","–õ–∞–∑–µ—Ä–Ω—ã–π –ø—Ä–∏—Ü–µ–ª","–ê–≤—Ç–æ–∫–ª–∏–∫–µ—Ä","–ù–µ–π—Ä–æ-–∫—É—Ä—Å–æ—Ä—ã"],
  "–ë–∞–±—É—à–∫–∞": ["–ë–∞–±—É—à–∫–∏–Ω—ã –æ—á–∫–∏","–î–≤–æ–π–Ω—ã–µ —Å–ø–∏—Ü—ã","–ü–µ—á—å –Ω–∞ —É–≥–ª–µ","–Ø–¥–µ—Ä–Ω–æ–µ —Ç–µ—Å—Ç–æ"],
  "–§–µ—Ä–º–∞": ["–£–¥–æ–±—Ä–µ–Ω–∏–µ +10","–ì–ú–û-–ø–µ—á–µ–Ω—å–µ","–ú–µ–≥–∞-—Ç—Ä–∞–∫—Ç–æ—Ä","–§–µ—Ä–º–∞-—Ä–æ–±–æ—Ç"],
  "–§–∞–±—Ä–∏–∫–∞": ["–ö–æ–Ω–≤–µ–π–µ—Ä XL","–°–≤–µ—Ä—Ö–ø–µ—á—å","–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è","–ö–∏–±–µ—Ä-—Ñ–∞–±—Ä–∏–∫–∞"],
  "–®–∞—Ö—Ç–∞": ["–ö–∞–º–µ–Ω–Ω—ã–π —É–≥–æ–ª—å","–ñ–µ–ª–µ–∑–Ω–∞—è –ø–µ—á—å","–ê–ª–º–∞–∑–Ω—ã–µ –ø—Ä–æ—Ç–∏–≤–Ω–∏","–ê–¥–∞–º–∞–Ω—Ç–∏–µ–≤–∞—è –º—É–∫–∞"],
  "–ú–∞–≥–∏—á–µ—Å–∫–∞—è –±–∞—à–Ω—è": ["–ú–∞–≥–∏—è —Ç–µ—Å—Ç–∞","–ó–∞–∫–ª–∏–Ω–∞–Ω–∏–µ –¥—Ä–æ–∂–∂–µ–π","–ö–Ω–∏–≥–∞ –ø–µ—á–µ–Ω–∏–π","–ê—Ä—Ö–∏–º–∞–≥-–∫—É–ª–∏–Ω–∞—Ä"],
  "–•—Ä–∞–º": ["–•–æ—Ä –ø–µ–∫–∞—Ä–µ–π","–ü—Å–∞–ª–º—ã —Å –∫–æ—Ä–∏—Ü–µ–π","–ñ–µ—Ä—Ç–≤–µ–Ω–Ω—ã–µ –ø–µ—á–µ–Ω—å—è","–°–≤—è—Ç–∞—è –≤—ã–ø–µ—á–∫–∞"],
  "–õ–∞–±–æ—Ä–∞—Ç–æ—Ä–∏—è": ["–ì–µ–Ω–µ—Ç–∏—á–µ—Å–∫–∏–µ –¥—Ä–æ–∂–∂–∏","–ù–∞–Ω–æ–ø–µ—á–µ–Ω—å–µ","–ö–≤–∞–Ω—Ç–æ–≤–∞—è –º—É–∫–∞","–ü–µ—á–µ–Ω—å–µ –∏–∑ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –º–∏—Ä–æ–≤"],
  "–ö–æ—Å–º–∏—á–µ—Å–∫–∞—è —Å—Ç–∞–Ω—Ü–∏—è": ["–ì—Ä–∞–≤–∏—Ç–∞—Ü–∏–æ–Ω–Ω–∞—è –¥—É—Ö–æ–≤–∫–∞","–õ—É–Ω–Ω—ã–µ –∫–æ—Ä–æ–≤—ã","–ú–∞—Ä—Å–∏–∞–Ω—Å–∫–∞—è –º—É–∫–∞","–ß—ë—Ä–Ω–∞—è –¥—ã—Ä–∞-–ø–µ—á—å"],
  "–î—Ä–∞–∫–æ–Ω—å–µ –ª–æ–≥–æ–≤–æ": ["–î—ã—Ö–∞–Ω–∏–µ –ø–µ—á–µ–Ω—å—è","–î—Ä–∞–∫–æ–Ω—å–∏ –∫—Ä–æ—à–∫–∏","–ü–ª–∞–º—è –∏–∑ —à–æ–∫–æ–ª–∞–¥–∞","–Ø–π—Ü–æ –∫–∞—Ä–∞–º–µ–ª–∏"],
  "–ú–∞—à–∏–Ω–∞ –≤—Ä–µ–º–µ–Ω–∏": ["–•–ª–µ–± –∏–∑ –ø—Ä–æ—à–ª–æ–≥–æ","–î—Ä–æ–∂–∂–∏ –±—É–¥—É—â–µ–≥–æ","–¶–∏–∫–ª —Ç–µ—Å—Ç–∞","–ü–µ—á–µ–Ω—å–µ –∑–∞ –ø—Ä–µ–¥–µ–ª–∞–º–∏ –≤—Ä–µ–º–µ–Ω–∏"],
  "–ê–Ω—Ç–∏–º–∞—Ç–µ—Ä–∏—è": ["–¢—ë–º–Ω–æ–µ —Ç–µ—Å—Ç–æ","–ü–µ—á–µ–Ω—å–µ –∏–∑ –≤–∞–∫—É—É–º–∞","–°–∏–Ω–≥—É–ª—è—Ä–Ω–∞—è –¥—É—Ö–æ–≤–∫–∞","–†–∞–∑—Ä—É—à–∏—Ç–µ–ª—å –≤—Å–µ–ª–µ–Ω–Ω–æ–π"],
  "–ê–ª—Ö–∏–º–∏—è": ["–ö–∞–º–µ–Ω—å –≤ –ø–µ—á–µ–Ω—å–µ","–§–∏–ª–æ—Å–æ—Ñ—Å–∫–∞—è –ø–µ—á–µ–Ω—å–∫–∞","–ó–æ–ª–æ—Ç–∞—è –∫—Ä–æ—à–∫–∞","–ê–ª—Ö–∏–º–∏—á–µ—Å–∫–∏–π —Ä–µ–∞–∫—Ç–æ—Ä"],
  "–ö–æ—Å–º–∏—á–µ—Å–∫–æ–µ –ø–µ—á–µ–Ω—å–µ": ["–ö–æ—Å–º–∏—á–µ—Å–∫–∏–π –∫–ª–∏–∫","–ì–∞–ª–∞–∫—Ç–∏—á–µ—Å–∫–∞—è –º—É–∫–∞","–°–≤–µ—Ä—Ö–Ω–æ–≤–∞—è –¥—É—Ö–æ–≤–∫–∞","–ß—ë—Ä–Ω–∞—è –ø–µ—á–µ–Ω—å–∫–∞"],
  "–ë–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –¥—É—Ö": ["–ë–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–π —à—Ç–æ—Ä–º","–°–≤—è—Ç–∞—è –º—É–∫–∞","–ü–µ—á–µ–Ω—å–µ-—Å–æ–∑–¥–∞—Ç–µ–ª—å","–í—Å–µ–ª–µ–Ω—Å–∫–∞—è –≤—ã–ø–µ—á–∫–∞"]
};

// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∞–ø–≥—Ä–µ–π–¥–æ–≤ –¥–ª—è –∑–¥–∞–Ω–∏–π
for (let b in buildings){
  buildings[b].upgrades = upgradesData[b].map((name,i)=>{
    return {name:name, level:1, multiplier: i+2, price: buildings[b].basePrice*10};
  });
}

function updateBuildings(){
  buildingsDiv.innerHTML='';
  for(let b in buildings){
    const bd = buildings[b];
    const price = Math.floor(bd.basePrice*Math.pow(3, bd.owned));
    const div = document.createElement('div');
    div.className='building';
    div.innerHTML=`${b}<br>–¶–µ–Ω–∞: ${price}<br>+${(bd.baseCPS*bd.multiplier).toFixed(1)}/—Å<br>–í–ª–∞–¥–µ–µ—Ç–µ: ${bd.owned}`;
    div.onclick=()=>{
      if(cookies>=price){
        cookies-=price;
        bd.owned++;
        updateBuildings();
      }
    };
    buildingsDiv.appendChild(div);
  }
}

function updateUpgrades(){
  upgradesDiv.innerHTML='';
  for(let b in buildings){
    const bd = buildings[b];
    const upg = bd.upgrades[bd.nextUpgrade];
    if(upg){
      const div = document.createElement('div');
      div.className='upgrade';
      div.innerHTML=`${b} - ${upg.name}<br>–¶–µ–Ω–∞: ${upg.price}<br>–£—Ä–æ–≤–µ–Ω—å: ${upg.level}`;
      div.onclick=()=>{
        if(cookies>=upg.price){
          cookies-=upg.price;
          bd.multiplier *= upg.multiplier;
          upg.level++;
          upg.price = Math.floor((upg.price+10)*(1.7+Math.random()*0.5));
          bd.nextUpgrade++;
          updateUpgrades();
          updateBuildings();
        }
      };
      upgradesDiv.appendChild(div);
    }
  }
}

function updateStats(){
  const now = Date.now();
  const elapsed = Math.floor((now-startTime)/1000);
  let cps=0;
  for(let b in buildings){
    const bd = buildings[b];
    cps+=bd.baseCPS*bd.multiplier*bd.owned;
  }
  statsDiv.innerHTML=
    `–ü–µ—á–µ–Ω—å–∫–∏: ${cookies.toFixed(1)}<br>
    –í—Å–µ–≥–æ –ø–µ—á–µ–Ω–µ–∫: ${totalCookies.toFixed(1)}<br>
    –ó–æ–ª–æ—Ç—ã–µ –ø–µ—á–µ–Ω—å–∫–∏: ${goldenCookies}<br>
    CPS: ${cps.toFixed(1)}<br>
    –í—Ä–µ–º—è –≤ –∏–≥—Ä–µ: ${elapsed} —Å–µ–∫<br>
    –ü—Ä–µ—Å—Ç–∏–∂ –±–æ–Ω—É—Å: ${prestigeMultiplier.toFixed(1)}%`;
}

cookie.addEventListener('click', (e)=>{
  const gain = 1*(1+prestigeMultiplier/100);
  cookies+=gain;
  totalCookies+=gain;
  showFlyCookie(e.clientX-15,e.clientY-15);
  updateStats();
  updateUpgrades();
});

function gameLoop(){
  let cps=0;
  for(let b in buildings){
    const bd = buildings[b];
    cps+=bd.baseCPS*bd.multiplier*bd.owned;
  }
  const gain = cps/10*(1+prestigeMultiplier/100);
  cookies+=gain;
  totalCookies+=gain;
  updateStats();
}
setInterval(gameLoop,100);

prestigeBtn.onclick=()=>{
  let needed = 1e12;
  if(totalCookies>=needed){
    if(confirm(`–í—ã –º–æ–∂–µ—Ç–µ —Å–¥–µ–ª–∞—Ç—å –ø—Ä–µ—Å—Ç–∏–∂ –∏ –ø–æ–ª—É—á–∏—Ç—å ${((totalCookies/needed)*0.1).toFixed(2)}% –±–æ–Ω—É—Å –∫ –¥–æ—Ö–æ–¥—É –æ—Ç –∑–æ–ª–æ—Ç–æ–π –ø–µ—á–µ–Ω—å–∫–∏. –°–¥–µ–ª–∞—Ç—å –ø—Ä–µ—Å—Ç–∏–∂?`)){
      prestigeMultiplier += (totalCookies/needed)*0.1;
      cookies=0;
      totalCookies=0;
      for(let b in buildings){
        buildings[b].owned=0;
        buildings[b].multiplier=1;
        buildings[b].nextUpgrade=0;
        buildings[b].upgrades.forEach(u=>{
          u.level=1;
          u.price = buildings[b].basePrice*10;
        });
      }
      goldenCookies++;
      updateBuildings();
      updateUpgrades();
      updateStats();
    }
  } else {
    alert(`–î–ª—è –ø—Ä–µ—Å—Ç–∏–∂–∞ –Ω—É–∂–Ω–æ –Ω–∞–∫–æ–ø–∏—Ç—å ${needed} –ø–µ—á–µ–Ω–µ–∫`);
  }
}

updateBuildings();
updateUpgrades();
updateStats();
</script>

</body>
</html>
