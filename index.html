<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Cookie Clicker Clone</title>
<style>
body {
  margin: 0;
  font-family: Arial, sans-serif;
  background: linear-gradient(to bottom, #87ceeb, #f5f5dc);
  display: flex;
  flex-direction: column;
  align-items: center;
}
header {
  position: fixed; top: 0; left: 0; right: 0;
  background-color: #fff8dc;
  border-bottom: 2px solid #deb887;
  padding: 10px;
  z-index: 10;
  display: flex;
  flex-wrap: wrap;
  justify-content: space-around;
  gap: 10px;
}
header p { margin: 5px; font-weight: bold; }
#main {
  margin-top: 140px;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 20px;
  width: 100%;
  max-width: 1200px;
  padding: 0 10px;
  box-sizing: border-box;
}
#cookie {
  font-size: 150px;
  cursor: pointer;
  user-select: none;
  transition: transform 0.1s;
}
#cookie:active { transform: scale(1.2); }
.section {
  width: 100%;
  max-width: 500px;
  background-color: #fff8dc;
  border: 1px solid #deb887;
  border-radius: 10px;
  padding: 10px;
  box-sizing: border-box;
  max-height: 400px;
  overflow-y: auto;
}
.section h2 { margin-top: 0; text-align: center; }
.object, .upgrade { display: flex; justify-content: space-between; align-items: center; margin: 5px 0; }
.object span, .upgrade span { font-weight: bold; }
button { padding: 5px 10px; border-radius: 5px; border: none; background-color: #deb887; color: #fff; cursor: pointer; }
button:disabled { background-color: #ccc; cursor: not-allowed; }
@media (max-width: 768px) {
  #cookie { font-size: 120px; }
  .section { max-width: 90%; }
}
/* –≠—Ñ—Ñ–µ–∫—Ç—ã */
.plus-one {
  position: absolute;
  color: gold;
  font-weight: bold;
  pointer-events: none;
  animation: plus1 0.8s ease-out forwards;
}
@keyframes plus1 {
  0% { transform: translateY(0) scale(1); opacity: 1; }
  100% { transform: translateY(-30px) scale(1.5); opacity: 0; }
}
.flying-cookie {
  position: absolute;
  font-size: 24px;
  pointer-events: none;
  animation: fly 1s linear forwards;
}
@keyframes fly {
  0% { transform: translateY(0) scale(1); opacity: 1; }
  100% { transform: translateY(-50px) scale(0.5); opacity: 0; }
}
.gold-cookie {
  position: absolute;
  font-size: 60px;
  cursor: pointer;
  user-select: none;
  animation: appear 10s linear forwards;
}
@keyframes appear {
  0% { opacity: 0; }
  10% { opacity: 1; }
  90% { opacity: 1; }
  100% { opacity: 0; }
}
</style>
</head>
<body>

<header>
  <p>–ü–µ—á–µ–Ω—å–∫–∏: <span id="cookies">0</span></p>
  <p>CPS: <span id="cps">0</span></p>
  <p>–ö–ª–∏–∫–∏: <span id="clicks">0</span></p>
  <p>–ü—Ä–µ—Å—Ç–∏–∂: <span id="prestige">0</span></p>
  <button id="prestigeBtn">–ü—Ä–µ—Å—Ç–∏–∂</button>
</header>

<div id="main">
  <div id="cookie">üç™</div>
  <div class="section" id="objects-section">
    <h2>–û–±—ä–µ–∫—Ç—ã</h2>
    <div id="objects"></div>
  </div>
  <div class="section" id="upgrades-section">
    <h2>–ê–ø–≥—Ä–µ–π–¥—ã</h2>
    <div id="upgrades"></div>
  </div>
</div>

<script>
let cookies = 0, totalClicks = 0, clickPower = 1, cps = 0;
let prestigePoints = 0, prestigeMultiplier = 1;

const objectsData = [
  { name: 'Cursor', emoji: 'üñ±Ô∏è', baseCost: 15, cps: 0.1, amount: 0 },
  { name: 'Grandma', emoji: 'üëµ', baseCost: 100, cps: 1, amount: 0 },
  { name: 'Farm', emoji: 'üåæ', baseCost: 500, cps: 8, amount: 0 },
  { name: 'Factory', emoji: 'üè≠', baseCost: 3000, cps: 47, amount: 0 },
  { name: 'Mine', emoji: '‚õèÔ∏è', baseCost: 10000, cps: 260, amount: 0 }
];

const upgradesData = [
  { name: '–°–∏–ª—å–Ω–µ–µ –∫–ª–∏–∫', cost: 100, type: 'click', multiplier: 2, purchased: false },
  { name: '–ë–∞–±—É—à–∫–∞ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–µ–µ', cost: 500, type: 'object', target: 'Grandma', multiplier: 2, purchased: false },
  { name: '–°—É–ø–µ—Ä –∫–ª–∏–∫', cost: 1000, type: 'click', multiplier: 5, purchased: false },
  { name: '–§–µ—Ä–º–∞ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–µ–µ', cost: 2000, type: 'object', target: 'Farm', multiplier: 2, purchased: false },
  { name: '–ó–∞–≤–æ–¥ —É—Å–∫–æ—Ä–µ–Ω', cost: 10000, type: 'object', target: 'Factory', multiplier: 2, purchased: false },
  { name: '–ú–∞–π–Ω —É–ª—É—á—à–µ–Ω', cost: 50000, type: 'object', target: 'Mine', multiplier: 2, purchased: false }
];

const cookieBtn = document.getElementById('cookie');
const cookiesDisplay = document.getElementById('cookies');
const clicksDisplay = document.getElementById('clicks');
const cpsDisplay = document.getElementById('cps');
const prestigeDisplay = document.getElementById('prestige');
const objectsContainer = document.getElementById('objects');
const upgradesContainer = document.getElementById('upgrades');
const prestigeBtn = document.getElementById('prestigeBtn');

function updateStats() {
  cookiesDisplay.textContent = Math.floor(cookies);
  clicksDisplay.textContent = totalClicks;
  cpsDisplay.textContent = (cps * prestigeMultiplier).toFixed(1);
  prestigeDisplay.textContent = prestigePoints;
}

function calculateCPS() {
  cps = objectsData.reduce((sum,obj)=>sum+obj.cps*obj.amount,0);
}

/* ===== –û–±—ä–µ–∫—Ç—ã ===== */
function initObjects() {
  objectsContainer.innerHTML = '';
  objectsData.forEach((obj,index)=>{
    const cost = Math.floor(obj.baseCost * Math.pow(1.15,obj.amount));
    const button = document.createElement('button');
    button.textContent = `–ö—É–ø–∏—Ç—å (${cost})`;
    button.disabled = cookies < cost;
    button.addEventListener('pointerdown',()=>buyObject(index));
    const div = document.createElement('div');
    div.className='object';
    div.innerHTML=`<span>${obj.emoji} ${obj.name} (x${obj.amount}) - CPS: ${obj.cps}</span>`;
    div.appendChild(button);
    objectsContainer.appendChild(div);
  });
}

function buyObject(index){
  const obj = objectsData[index];
  const cost = Math.floor(obj.baseCost * Math.pow(1.15,obj.amount));
  if(cookies>=cost){
    cookies-=cost;
    obj.amount++;
    calculateCPS();
    updateStats();
    initObjects();
    flyingCookieEffect(cookieBtn);
    saveGame();
  }
}

/* ===== –ê–ø–≥—Ä–µ–π–¥—ã ===== */
function initUpgrades(){
  upgradesContainer.innerHTML='';
  upgradesData.forEach((upg,index)=>{
    const button=document.createElement('button');
    button.textContent=`–ö—É–ø–∏—Ç—å (${upg.cost})`;
    button.disabled=upg.purchased||cookies<upg.cost;
    button.addEventListener('pointerdown',()=>buyUpgrade(index));
    const div=document.createElement('div');
    div.className='upgrade';
    div.innerHTML=`<span>${upg.name}</span>`;
    div.appendChild(button);
    upgradesContainer.appendChild(div);
  });
}

function buyUpgrade(index){
  const upg=upgradesData[index];
  if(cookies>=upg.cost&&!upg.purchased){
    cookies-=upg.cost;
    upg.purchased=true;
    if(upg.type==='click') clickPower*=upg.multiplier;
    else if(upg.type==='object'){
      const obj=objectsData.find(o=>o.name===upg.target);
      obj.cps*=upg.multiplier;
      calculateCPS();
    }
    updateStats();
    initObjects();
    initUpgrades();
    saveGame();
  }
}

/* ===== –ö–ª–∏–∫ –ø–æ –ø–µ—á–µ–Ω—å–∫–µ ===== */
function cookieClick(e){
  cookies+=clickPower*prestigeMultiplier;
  totalClicks++;
  updateStats();
  plusOneEffect(e);
}
cookieBtn.addEventListener('pointerdown',cookieClick);

/* ===== –≠—Ñ—Ñ–µ–∫—Ç—ã ===== */
function plusOneEffect(e){
  const span=document.createElement('span');
  span.className='plus-one';
  span.textContent=`+${clickPower}`;
  document.body.appendChild(span);
  const rect=cookieBtn.getBoundingClientRect();
  span.style.left=rect.left+rect.width/2+'px';
  span.style.top=rect.top+'px';
  setTimeout(()=>span.remove(),800);
}

function flyingCookieEffect(target){
  const span=document.createElement('span');
  span.className='flying-cookie';
  span.textContent='üç™';
  document.body.appendChild(span);
  const rect=target.getBoundingClientRect();
  span.style.left=rect.left+Math.random()*50+'px';
  span.style.top=rect.top+'px';
  setTimeout(()=>span.remove(),1000);
}

/* ===== –ó–æ–ª–æ—Ç—ã–µ –ø–µ—á–µ–Ω—å–∫–∏ ===== */
function spawnGoldenCookie(){
  const gold=document.createElement('div');
  gold.className='gold-cookie';
  gold.textContent='üç™';
  gold.style.left=Math.random()*(window.innerWidth-60)+'px';
  gold.style.top=Math.random()*(window.innerHeight-200)+'px';
  document.body.appendChild(gold);
  gold.addEventListener('pointerdown',()=>{
    const bonus=Math.floor(100+Math.random()*400);
    cookies+=bonus*prestigeMultiplier;
    updateStats();
    flyingCookieEffect(gold);
    gold.remove();
    saveGame();
  });
  setTimeout(()=>{if(document.body.contains(gold)) gold.remove()},10000);
}
setInterval(()=>{if(Math.random()<0.5) spawnGoldenCookie()},20000+Math.random()*20000);

/* ===== –ê–≤—Ç–æ–ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ ===== */
setInterval(()=>{
  cookies+=cps*prestigeMultiplier/10;
  updateStats();
  initObjects();
  initUpgrades();
},100);

/* ===== –ü—Ä–µ—Å—Ç–∏–∂ ===== */
prestigeBtn.addEventListener('pointerdown',()=>{
  if(cookies>=10000){
    prestigePoints++;
    prestigeMultiplier=1+prestigePoints*0.1;
    cookies=0;
    objectsData.forEach(obj=>obj.amount=0);
    upgradesData.forEach(upg=>upg.purchased=false);
    calculateCPS();
    updateStats();
    initObjects();
    initUpgrades();
    saveGame();
  }
});

/* ===== –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ ===== */
function saveGame(){
  const save={cookies,totalClicks,clickPower,cps,prestigePoints,objectsData,upgradesData};
  localStorage.setItem('cookieClickerSave',JSON.stringify(save));
}

function loadGame(){
  const save=JSON.parse(localStorage.getItem('cookieClickerSave'));
  if(save){
    cookies=save.cookies;
    totalClicks=save.totalClicks;
    clickPower=save.clickPower;
    cps=save.cps;
    prestigePoints=save.prestigePoints;
    prestigeMultiplier=1+prestigePoints*0.1;
    save.objectsData.forEach((obj,i)=>objectsData[i].amount=obj.amount);
    save.upgradesData.forEach((upg,i)=>upgradesData[i].purchased=upg.purchased);
    calculateCPS();
  }
}

loadGame();
initObjects();
initUpgrades();
updateStats();
</script>

</body>
</html>
